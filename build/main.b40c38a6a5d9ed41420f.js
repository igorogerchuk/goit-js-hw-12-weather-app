(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(t,e,n){},QfWi:function(t,e,n){"use strict";n.r(e);n("D/wG");var o=n("dIfx");n("mNaS"),n("IlkV"),n("JBxO"),n("FdtR");function i(t){return fetch("http://api.apixu.com/v1/current.json"+("?key=1f404656e7ff496abf1220436191707&q="+t))}n("UOjr"),n("Anew"),n("L1EO");o.a.defaults.styling="material",o.a.defaults.icons="material";var r={weatherSection:document.querySelector("#weather"),icon:document.querySelector(".icon"),location:document.querySelector('span[data-field="location"]'),temperature:document.querySelector('span[data-field="temp"]'),humidity:document.querySelector('span[data-field="humidity"]'),wind:document.querySelector('span[data-field="wind"]'),conditions:document.querySelector('span[data-field="conditions"]'),searchForm:document.querySelector("#search-form")};function c(t){r.icon.src="http:"+t.current.condition.icon,r.location.textContent=t.location.name,r.temperature.textContent=t.current.temp_c+"℃",r.humidity.textContent=t.current.humidity+"%",r.wind.textContent=t.current.wind_kph+"kph",r.conditions.textContent=t.current.condition.text}new Promise(function(t,e){navigator.geolocation.getCurrentPosition(t,e)}).then(function(t){var e=t.coords.latitude+","+t.coords.longitude;e&&(o.a.success({text:"Показана погода в вашем регионе."}),i(e).then(function(t){return t.json()}).then(function(t){r.weatherSection.classList.remove("is-hidden"),c(t)}))}).catch(function(t){o.a.error({text:"Нет прав доступа к геопозиции, используйте поиск по имени города."})}),r.searchForm.addEventListener("submit",function(t){t.preventDefault(),i(t.currentTarget.elements.city.value).then(function(t){return t.json()}).then(function(t){r.weatherSection.classList.remove("is-hidden"),c(t)}).catch(function(t){o.a.error({text:"Города с таким названием не найдено."})})})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.b40c38a6a5d9ed41420f.js.map